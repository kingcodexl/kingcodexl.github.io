<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="keywords" content="Vue路由, Weslyxl">
    <meta name="description" content="
一、什么是路由以前在 React 的文章中说过路由这个东西，这里再说一下「再次加深一下记忆」。路由是什么我们可能不太理解，但是我说一个东西我们一定知道，就是 “路由器”, 路由器的功能用一句话概括就是：数据从一个网络到另一个网络就是靠路由">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Vue路由 | Weslyxl</title>
    <link rel="icon" type="image/png" href="/favicon_w.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>


<body>

<!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="container">
            <div class="nav-wrapper">
                <div class="brand-logo">
                    <a href="/" class="waves-effect waves-light">
                        
                        <img src="/medias/logo_w.png" class="logo-img hide-on-small-only">
                        
                        <span class="logo-span">Weslyxl</span>
                    </a>
                </div>
                

<a href="#" data-activates="mobile-nav" class="button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>关于</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <i class="fa fa-address-book"></i>
            
            <span>友情链接</span>
        </a>
    </li>
    
    <li>
        <a id="toggleSearch" class="waves-effect waves-light">
            <i id="searchIcon" class="mdi-action-search" title="搜索"></i>
        </a>
    </li>

</ul>

<div class="side-nav" id="mobile-nav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo_w.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Weslyxl</div>
        <div class="logo-desc">
            
            想全是问题，做才有答案。寻找产品与技术的融合。
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                关于
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-address-book"></i>
                
                友情链接
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/zhijianshusheng" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>

    <div class="social-link">


    <a href="mailto:weslywxl@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>




</div>
</div>

            </div>
        </div>

        
        <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/zhijianshusheng" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>
</header>





<div class="bg-cover post-cover" style="background-image: url('http://ww1.sinaimg.cn/large/e5e20b30ly1g9n35tt3ktj20e90bqglt.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        Vue路由
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }
</style>
<div class="row">
    <div class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/复习/" target="_blank">
                                <span class="chip bg-color">复习</span>
                            </a>
                        
                            <a href="/tags/Vue/" target="_blank">
                                <span class="chip bg-color">Vue</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/前端/" class="post-category" target="_blank">
                                前端
                            </a>
                        
                            <a href="/categories/前端/总结/" class="post-category" target="_blank">
                                总结
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2018-12-01
                </div>

                
                    
                    <div class="info-break-policy">
                        <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                        5k
                    </div>
                    

                    
                    <div class="info-break-policy">
                        <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                        20 分
                    </div>
                    
                
				
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p><img src="http://upload-images.jianshu.io/upload_images/1586207-0037bb7aa1f67448.png" alt="img"></p>
<h3 id="一、什么是路由"><a href="#一、什么是路由" class="headerlink" title="一、什么是路由"></a>一、什么是路由</h3><p>以前在 React 的文章中说过路由这个东西，这里再说一下「再次加深一下记忆」。路由是什么我们可能不太理解，但是我说一个东西我们一定知道，就是 “路由器”, 路由器的功能用一句话概括就是：数据从一个网络到另一个网络就是靠路由器来完成的 [当然路由器的功能不仅仅于此]。</p>
<p>我们说的程序开发中的路由不是指路由器和网络协议中的路由，但是基本思想是一样的。而路由又分为前端路由和后端路由。</p>
<p>我们来看一个路由的简易图吧，有了这个图，大家对路由就有一个大致的了解了。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-49c9943a6c89b1ff.png" alt="img"></p>
<p>路由简易图</p>
<p><strong>1、后端路由</strong></p>
<p>举个栗子，分配一个站点，服务器地址是：<code>http://192.168.1.200:8899</code>，在这个网站中提供了三个界面</p>
<pre><code>http://192.168.1.200:8899/index.html          主页
http://192.168.1.200:8899/about/aboutus.html  关于我们页面
http://192.168.1.200:8899/feedback.html       反馈界面</code></pre><p>当我们在浏览器输入 <code>http://192.168.1.200:8899/index.html</code> 来仿问界面的时候，web 服务器就会接收到这个请求，然后把 index.html 解析出来，并找到相应的 index.html 并展示出来，这就是路由的分发，路由的分发是通过路由功能来完成的</p>
<p><strong>2、前端路由</strong></p>
<p>虽然前端路由和后端路由的实现方式不一样，但是原理都有是相同的，在 H5 的 history Api 出来之前，前端路由的功能都是通过 hash 「散列值」 来实现的，hash 能兼容低版本的浏览器</p>
<p><strong>PS:</strong> 后端路由每次仿问一个页面都要向浏览器发送请求，然后服务端再响应解析，在这个过程中肯定会存在延迟，但是前端路由中仿问一个新的界面的时候只是浏览器的路径改变了，没有和服务端交互「所以不存在延迟」，这个对用户体验来说是大大的提高。如下所示</p>
<pre><code>http://192.168.1.200:8080/
http://192.168.1.200:8080/
http://192.168.1.200:8080/</code></pre><p>由于 web 服务器不会解析 # 后面的东西「所以通过 hash 能提高性能」，但是客户端的 js 可以拿到 # 后面的东西，有一个方法是 window.location.hash 来读取，使用这个方法来匹配到不同的方法上「配合前端的一些逻辑操作就完成路由功能，剩下只是关心接口调用」</p>
<p><strong>3、举个栗子</strong></p>
<p>假设有一个地址</p>
<pre><code>http://www.xxx.com/path/a/b/c.html?key1=Tiger &amp;&amp; key2=Chain &amp;&amp; key3=fuck</code></pre><ul>
<li>1、我们把这个地址分析一下「这个地址基本上包含了一个复杂地址的所有情况」</li>
</ul>
<pre><code>http:协议
www.xxx.com:域名
/path/a/b/c.html:路由，即服务器上的资源
?key1=Tiger &amp;&amp; key2=Chain &amp;&amp; key3=fuck：这个很好理解 Get 请求的参数
#/path/d/e.html：hash 也叫散列值，也叫锚点</code></pre><p>上面的 hash 是和浏览器交互的，其它的都是和服务器进行交互</p>
<p>通过上述我们知道，<strong>前端路由的实现方式有两种：</strong></p>
<p><strong>（1）</strong>、一是改变 hash 值，监听 hashchange 事件，可以兼容低版本浏览器</p>
<p><strong>（2）</strong>、二是通过 H5 的 history API 来监听 popState 事件，使用 pushState 和 replaceState 实现</p>
<ul>
<li>2、hash 改变，不会导致浏览器刷新「请求服务器」，我们来写个 demo 验证一下</li>
</ul>
<p>先看一下效果图</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-9597185c4e677cdb.gif" alt="img"></p>
<p>hash-router</p>
<p>从图中我们可以看到，使用 hash 并不会导致浏览器刷新, 并且我们 js 拿到了 hash 值并且打印出来了</p>
<ul>
<li>3、源码</li>
</ul>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
  &lt;title&gt;hash 实现前端路由&lt;/title&gt;

  &lt;style&gt;

    #nav {
      margin: 0;
      border:0;
      height: 40px;
      border-top: #060 2px solid;
      margin-top: 10px;
      border-bottom: #060 2px solid;
      background-color: red;
    }
    #nav ul {
      margin: 0;
      border: 0;
      list-style: none;
      line-height: 40px;
    }
    #nav li {
      display: block;
      float: left;
    }

    #nav a {
      display: block;
      color: #fff;
      text-decoration: none;
      padding: 0 20px;
    }

    #nav a:hover {
      background-color: orange;
    }

  &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;

  &lt;h3&gt;使用 hash 实现前端路由&lt;/h3&gt;
  &lt;hr/&gt;
  &lt;a href=&quot;#hash1&quot;&gt;#hash1&lt;/a&gt;
  &lt;a href=&quot;#hash2&quot;&gt;#hash2&lt;/a&gt;
  &lt;a href=&quot;#hash3&quot;&gt;#hash3&lt;/a&gt;
  &lt;a href=&quot;#hash4&quot;&gt;#hash4&lt;/a&gt;

  &lt;p/&gt;
  &lt;div id = &quot;show-hash-result&quot;&gt;
   点击上面链接，并观察浏览器
  &lt;/div&gt;
  &lt;h4&gt;定义一个简单的 tab 路由页面&lt;/h4&gt;
  &lt;div&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#/index.html&quot;&gt;首页&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#/server&quot;&gt;服务&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#/mine&quot;&gt;我的&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
  &lt;div&gt;&lt;/div&gt;

  &lt;script type=&quot;text/javascript&quot;&gt;
  window.addEventListener(&quot;hashchange&quot;, function(){

    document.getElementById(&quot;show-hash-result&quot;).innerHTML = &quot;当前的 hash 值是:  &quot;+location.hash;

    console.log(&quot;当前的 hash 值是:&quot;+window.location.hash) ;
    });
  &lt;/script&gt;


  &lt;script type=&quot;text/javascript&quot;&gt;

  function CustomRouter(){
   this.routes = {};
   this.curUrl = &#39;&#39;;

   this.route = function(path, callback){
       this.routes[path] = callback || function(){};
   };

   this.refresh = function(){
       if(location.hash.length !=0){ 
         this.curUrl = location.hash.slice(1) || &#39;/&#39;;
         if(this.curUrl.indexOf(&#39;/&#39;)!=-1){ 
             this.routes[this.curUrl]();
         }
       }
   };

   this.init = function(){
       window.addEventListener(&#39;load&#39;, this.refresh.bind(this), false);
       window.addEventListener(&#39;hashchange&#39;, this.refresh.bind(this), false);
   }
  }


  var R = new CustomRouter();
  R.init();
  var res = document.getElementById(&#39;result&#39;);

  R.route(&#39;/hash1&#39;,function () {
   document.getElementById(&quot;show-hash-result&quot;).innerHTML = location.hash;
  })

  R.route(&#39;/index.html&#39;, function() {
   res.style.height=&#39;150px&#39;;
   res.style.width=&#39;300px&#39;;
   res.style.background = &#39;green&#39;;
   res.innerHTML = &#39;&lt;html&gt;我是首页&lt;/html&gt;&#39;;
  });

  R.route(&#39;/server&#39;, function() {
   res.style.height=&#39;150px&#39;;
   res.style.width=&#39;300px&#39;;
   res.style.background = &#39;orange&#39;;
   res.innerHTML = &#39;我是服务页面&#39;;
  });
  R.route(&#39;/mine&#39;, function() {
   res.style.background = &#39;red&#39;;
   res.style.height=&#39;150px&#39;;
   res.style.width=&#39;300px&#39;;
   res.innerHTML = &#39;我的界面&#39;;
  });

  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p>以上代码只是为了演示前端路由的作用，一般情况下，这种路由我们是不需要自己写的，使用 react/vue 都会有相应的路由工具类, 我们发现了 hash 只会改变浏览器地址，不会刷新浏览器</p>
<ul>
<li>H5 的 history</li>
</ul>
<p>window 的 history 提供了对浏览器历史记录的访问功能，并且它暴露了一些方法和属性，让你在历史记录中自由的前进和后退，并且在 H5 中还可以操作历史记录中的数据。</p>
<p>我们在 chrome 浏览器的调试窗口中在 Console 中输入 window.history, 会得到 history 的一些方法和属性，如下图所示</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-08855191bafbec0b.png" alt="img"></p>
<p>history-api</p>
<p>总结一下 history 的 API 如下：</p>
<pre><code>interface History {
    readonly attribute long length;
    readonly attribute any state;
    void go(optional long delta);
    void back();
    void forward();

    void pushState(any data, DOMString title, optional DOMString? url = null);
    void replaceState(any data, DOMString title, optional DOMString? url = null);
};</code></pre><ul>
<li><p>1、<code>back():</code>在历史记录中后退</p>
</li>
<li><p>2、<code>forward:</code>在历史记录中前进</p>
</li>
<li><p>3、<code>go():</code>移动到指定的历史记录点</p>
</li>
</ul>
<p>其中正数是前进「+1 就是前进一个界面」，负责是后退的意思「-1 就是后退一个界面」</p>
<ul>
<li>4、<code>length:</code> hisgory 的属性，显示 history 的长度</li>
<li>5、<code>pushState(data,title[,url]):</code>给历史记录堆栈顶部添加一条记录</li>
</ul>
<pre><code>history.pushState(data,title[,url])</code></pre><p>如果想更进一步的了解 H5 的 history ，推荐看这里:<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FHistory_API" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/API/History_API</a>，非常值得一看</p>
<p>从上面我们了解到，使用 H5 的 history 的 pushState 可以代替 hash，并且更加优雅, 废话不多说，我们直接上效果图</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-0f4fff2312055660.gif" alt="img"></p>
<p>history-demo</p>
<p>从效果图中我们可以看到前端路由实现了，点击各个导航没有刷新浏览器，并且点击浏览器的回退按钮，会显示上一次记录，这都是使用 h5 history 的 pushState 和监听 onpopstate 实现的，这就是一个简单的 SPA , 基本上实现了和上面 hash 一样的功能</p>
<p>源码</p>
<p>我们只看核心代码</p>
<pre><code>&lt;h4&gt;使用 h5 实现前端路由&lt;/h4&gt;
  &lt;ul&gt;
    &lt;li&gt; &lt;a  onclick=&quot;home()&quot;&gt;首页&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt; &lt;a  onclick=&quot;message()&quot;&gt;消息&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt; &lt;a  onclick=&quot;mine()&quot;&gt;我的&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
  &lt;div&gt;
    home
  &lt;/div&gt;

  &lt;script type=&quot;text/javascript&quot;&gt;

    function home() {

      history.pushState({name:&#39;home&#39;,id:1},null,&quot;?page=home#index&quot;)
      showCard(&#39;home&#39;)
    };

    function message() {
      history.pushState({name:&#39;message&#39;,id:2},null,&quot;?page=message#haha&quot;)
      showCard(&#39;message&#39;)
    }

    function mine(){
      history.pushState({
        id:3,
        name:&#39;mine&#39;
      },null,&quot;?name=tigerchain&amp;&amp;sex=man&quot;)
      showCard(&#39;mine&#39;)
    }


    window.addEventListener(&#39;popstate&#39;,function (event) {
      var content = &quot;&quot;;
       if(event.state) {
         content = event.state.name;
       }
       console.log(event.state)
       console.log(&quot;history 中的历史栈中的 name ：&quot;+content)
       showCard(content)
    })









    function showCard(name) {
     console.log(&quot;当前的 hash 值是：&quot;+location.hash)
     document.getElementById(&quot;showContent&quot;).innerHTML = name;
    }
  &lt;/script&gt;</code></pre><p>以上就是通过 H5 的 history 实现的一个前端路由</p>
<p>我们稍微总结一下：</p>
<pre><code>http://192.168.1.200:8080/index
http://192.168.1.200:8080/about/aboutus.html/
http://192.168.1.200:8080/feedback</code></pre><ul>
<li>后端路由：每次仿问都要向 server 发送一个请求，server 需要响应解析，会有延迟「网络不好更严重」</li>
<li>前端路由：只是改变浏览器的地址，不刷新浏览器，不和服务端交互，所以性能有大大的提高「用户体验提高」，并且前端路由有两种实现方式</li>
</ul>
<p>(1)、实现 hash 并监听 hashchange 事件来实现<br>(2)、使用 H5 的 hisgory 的 pushState() 监听 popstate 方法来实现</p>
<p>到这里，我们大概对路由有一个整体的了解了, 下面我们看看 veu 的路由</p>
<h3 id="二、Vue-路由"><a href="#二、Vue-路由" class="headerlink" title="二、Vue 路由"></a>二、Vue 路由</h3><p>Vue 中的路由，推荐使用官方支持的 <a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fvuejs%2Fvue-router" target="_blank" rel="noopener">vue-router</a> 库，当然我们可以不使用 vue-router 可以使用三方的路由库，或者自己牛 b 完全可以自己写一个路由库「使用 hash 或 history」</p>
<p>本文中我们使用 vue-router 3.0.1 来讲解，考虑到团队开发协作，我们先写一个使用 html 引入 vue.js 的方式来使用 vue-router, 后面专注说使用模块化开发「使用 vue-cli 创建项目中使用 vue-router, 这应该是团队开发的最佳方式」</p>
<h4 id="html-中-引入-vue-router"><a href="#html-中-引入-vue-router" class="headerlink" title="html 中 引入 vue-router"></a>html 中 引入 vue-router</h4><p>1、废话不多了，直接写一个简单的 SPA 应用来感受一下</p>
<p>效果如下：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-6a1bf498201dcfb3.gif" alt="img"></p>
<p>vue-in-html-router</p>
<p>从上图中我们可以看到，我们使用 vue-router 实现了一个简单的类 hash 的路由功能</p>
<p>2、源码</p>
<ul>
<li>1、引入 vue.js 和 vue-router.js</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-e80fed01c3e73dea.png" alt="img"></p>
<p>import-aboutjs</p>
<ul>
<li>2、定义 Main、Message、Mine 组件</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-23f9219f8fc9b23b.png" alt="img"></p>
<p>custom-vue-component</p>
<ul>
<li>3、声明路由规则</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-b3106ce9e0ac925a.png" alt="img"></p>
<p>decale-router</p>
<p>声明路由规则，把路径所对应要跳转的组件先定义出来「相当于一个配置项」，到时候浏览器地址指定到对应的路由下会自动跳转到所对应的组件「这样就完成了路由功能」</p>
<ul>
<li>4、创建 router 实例</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-eaf7eda6405edd4b.png" alt="img"></p>
<p>create-router-instance</p>
<p>创建 router 实例，并把 routes 传递进去</p>
<ul>
<li>5、注册 router「把 router 注入到指定的挂载点下」</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-2f973097d648ffce.png" alt="img"></p>
<p>register-router</p>
<p>经过以上几步，路由功能就完成了，我们现在定义了路径，定义了路由所对应的组件，那组件要显示在哪里呢？那就前面 1 中的图中所显示的 <code>&lt;router-view /&gt;</code> 中</p>
<p>可是如何让我在点击不同的按钮进不同的路由「不是的组件呢？」，这里就要使用到 <code>&lt;router-link to=&quot;路由配置中的路径&quot;&gt;比如首页&lt;router-link /&gt;</code>，从名字就可以看出来就是路由链接到那个路径，路径会匹配出相应的组件显示在 <code>router-view</code> 中</p>
<p>这样我们就完成了 vue-router 的基本使用，使用声明式导航 <code>&lt;router-link :to=&quot;...&quot;&gt;</code> 「其实就是创建了一个 a 标签」来完成了导航的链接</p>
<h4 id="模块化「组件式开发」中-vue-router-的使用"><a href="#模块化「组件式开发」中-vue-router-的使用" class="headerlink" title="模块化「组件式开发」中 vue-router 的使用"></a>模块化「组件式开发」中 vue-router 的使用</h4><p>如果使用 vue 开发手机 webapp ，那么页面跳转就非常多，路由使用的非常非常多，这样就更能体现出路由的强大之处，在这里我们使用 vue-cli 来创建一个 webapp , 来模拟一个简单的手机 app ，体验一下路由</p>
<p><strong>效果如下</strong>：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-8e2a740fa5d16296.gif" alt="img"></p>
<p>router-demo</p>
<ul>
<li>1、初始化项目</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-92da7fdcdb99c6eb.png" alt="img"></p>
<p>vue-init-router-demo</p>
<p>使用　vue-cli 命令创建项目的时候，我们选择安装 vue-router，默认进去项目中就会有 vue-router 的配置，创建好的项目结构如下：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-eed9c8f2d0313a7e.png" alt="img"></p>
<p>folder-struct</p>
<p>我们看到创建的目录结构多了一个 router 目录和 index.js 文件「vue-cli 默认给添加的，如果你选了安装 vue-router 的话」</p>
<ul>
<li>2、文件简单的分析</li>
</ul>
<p><strong>我们来看看 router 下的 index.js「路由配置文件」</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-405d626a93e12fd1.png" alt="img"></p>
<p>router-indexjs</p>
<p>我们可以看到默认　vue-cli 创建的带路由的项目把 router 配置文件单独的写在了 router/index.js 文件中了，并且我们看到默认指定打开的是 HelloWorld 组件「想配置路由组件，引入组件配置即可」</p>
<p><strong>再看 main.js</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-01c947fcc4d05584.png" alt="img"></p>
<p>router-mainjs</p>
<p>一般来说 APP.vue 就是我们应用的首页，我们在 main.js 中注入路由，从而让整个应用都具有路由功能</p>
<ul>
<li>3、再看 App.vue</li>
</ul>
<p>核心就一个 <code>&lt;router-view/&gt;</code> 即可路由组件要显示的地方，默认路由路径是 / 对应的是 HelloWorld 组件，所以运行起应用就会显示 HelloWorld 组件，这里不显示运行后的结果了，我们使用 vue-cli 创建的 demo 样式看的太多了，自行运行查看即可</p>
<p>经过以上分析，我们基本上就把 vue-cli 带路由的 demo 说完了「核心就这几个东西，剩下的无非就是配置路由，然后组件组合，然后各种路由跳转」</p>
<ul>
<li>4、修改 demo，一步步修改成效果图的样式</li>
</ul>
<p><strong>添加 First.vue 文件「核心代码</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-a9b58d6bec1ad8ee.png" alt="img"></p>
<p>add-firstvue</p>
<p>样式和数据「mockList 就是一个数组」就不截图了，完整例子可以查看 源码:<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Ftigerchain%2Fvue-lesson%2Ftree%2Fmaster%2F06%E3%80%81Vue%E8%B7%AF%E7%94%B1%2Fvue-cli-router-webapp" target="_blank" rel="noopener">https://github.com/tigerchain/vue-lesson/tree/master/06、Vue 路由 / vue-cli-router-webapp</a></p>
<p>其中的条目点击方法 <code>nav(index)</code> 就是路由跳转功能</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-a1366620fd311d17.png" alt="img"></p>
<p>first-item-nav-method</p>
<p>以上点击方法我们使用编程式导航「跳转」, 当然你也可以不传参数</p>
<pre><code>  this.$router.push({name:xxx,params:{xxxx}})</code></pre><p>细心的朋友会发现, 我们这个 name 叫 <strong>second</strong> 这是那里来的, 它其实就是我们在 router/index.js 中配置的别名, 再看 router/index.js 文件之前, 我们先添加一个 Second.vue 组件</p>
<p><strong>添加 Second.vue 组件「核心代码</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-9b77d27825322839.png" alt="img"></p>
<p>second-vue</p>
<p>这个没有什么好说的, 就是一个有导航条并且接收到 First.vue 路由跳转传递过来的参数</p>
<p><strong>修改 router/index.js 文件</strong></p>
<p>前面我们使用跳转 <code>this.$router.push({name:&#39;second&#39;,params:{itemData:this.mockList[index]}})</code> 中传了一个 name 为 second , 我们说了这是在　router/indes.js 中配置的, 下面我们来看此文件</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-90031ef011ed7980.png" alt="img"></p>
<p>modify-router-indexjs</p>
<p>我们看到 / 对应的是 First 组件,/second 对应的是 Second 组件, 并且分别给了 name 属性「在路由 push 的时候就可以使用到」, 没什么好说的, 当然你也可以不写 name　属性，路由跳转有几种写法</p>
<pre><code>router.push({ path: &#39;/second&#39;, params: { xxx:xxx }})

router.push({ name: &#39;second&#39;, params: { xxx:xxx }})</code></pre><p>等几种方式, 如果有 name 属性直接使用即可, 如果没有就使用 path「router/inde.js 中配置的路由 path」 即可, 具体可以看官网:<a href="https://links.jianshu.com/go?to=https%3A%2F%2Frouter.vuejs.org%2Fzh-cn%2Fessentials%2Fnavigation.html" target="_blank" rel="noopener">https://router.vuejs.org/zh-cn/essentials/navigation.html</a></p>
<p>如果想返回上一个界面, 那么就使用 <code>this.$router.go(-1)</code> 和 h5 的 history 是一样的</p>
<p><strong>修改 App.vue</strong></p>
<p>我们来修改 App.vue 来让每个组件的内容都能全屏显示「我这里使用的 flexbox 布局, 具体看源码」</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-4288d382f9e148f4.png" alt="img"></p>
<p>modify-appvue</p>
<p>这没有什么好说的, 都是一些 css 样式的设置</p>
<p><strong>运行查看效果</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-858a93e7cffbb39e.gif" alt="img"></p>
<p>vue-cli-router-one</p>
<p>从效果图中我们可以看到我们已经实现了两个界面之间的跳转「通过路由功能」只不过这个界面跳转有点生硬，显的很不友好，下面我们给界面跳转添加一个动画</p>
<p><strong>添加界面跳转动画</strong></p>
<p>说到 vue 的跳转动画，我们就要说说 transition 过度效果，简单的说 transition 就是控制组件或标签的进入和离开的过度「这里不过多的介绍，我们看如何修改代码</p>
<p><strong>修改 App.vue</strong></p>
<ul>
<li>第一步：给 router-view 添加过虑效果</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-6ce8170e1f3654a7.png" alt="img"></p>
<p>add-transition</p>
<ul>
<li>第二步：给 transitionName 设置个属性值</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-c65edc439d4d5164.png" alt="img"></p>
<p>transition-data</p>
<p>在这里我们给 transitionName 设置一个值「这个值可以随便起一个名字，这里我就叫做 slide-right, 向右滑动」</p>
<ul>
<li>第三步：给 transitionName 添加进入，退出效果</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-c1341a169b6ab05d.png" alt="img"></p>
<p>transition-setcss</p>
<p>这里我们给过度设置效果，一般使用 name-enter「过渡开始的状态」 name-enter-active「定义进入过渡的状态」、name-leave「离开过渡的开始状态」、name-leave-active「离开的过度状态」，其中 name 是可以的值是可以动态设置的，类如上面的 slide-right 和 slide-left，但是后面的部分是固定的，下面我们来使用 name</p>
<ul>
<li>第四步：监听路由变化</li>
</ul>
<p>我们先把路由定义一个统一的返回方法，打开 router/index.js，添加如下代码，使用 js 的 prototype「prototype 属性使您有能力向对象添加属性和方法」 属性即可</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-b7d7cfa834650f44.png" alt="img"></p>
<p>addGoBackToRouter</p>
<p>这样一来，router 就有了统一的返回方法，直接调用即可，我们修改返回按钮的返回方法如下：</p>
<ul>
<li>第五步：监听路由变化</li>
</ul>
<p>在这里我们使用到了 Vue 的 watch「这里不专门说，以后有需要会抽出来说」 方法，修改如下：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-b39dcaf5a517e9d3.png" alt="img"></p>
<p>addWatchRouter</p>
<p>这样我们就可以监听是进入界面还是返回界面「这里 watch 和 data 方法是平级的，如果是返回的话，则从左边滑入到右边，打开新界面就是从右边滑到左边」</p>
<p>通过以上步骤，我们就给路由添加了一个过渡效果，我们来看看效果，就和刚开始的效果图是一样的</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-8e2a740fa5d16296.gif" alt="img"></p>
<p>router-demo</p>
<p>这样我就完成了组件式开发中的路由的基本功能，结束了吗？这里本应该可以结束了，但是我们前面学过组件，并且 vue 的核心特点之一就是组件化开发，我们这里使用的头部功能「两个界面头部如下」</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-0f2de3a98f636a25.png" alt="img"></p>
<p>first-titlebar</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-bbab3333ce12c2c0.png" alt="img"></p>
<p>second-titlebar.png</p>
<p>我们可以看到两个界面的头部是何其的相似，这里我们完全可以把这个头部封装成一个组件呀，下面我们继续改造我们的代码</p>
<p><strong>封装头部组件</strong></p>
<ul>
<li>1、新建一个 Head.vue 文件「核心代码」</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-52788084185939d7.png" alt="img"></p>
<p>custom-head-template</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-ed9a9c30dbff2c86.png" alt="img"></p>
<p>custom-head-js</p>
<ul>
<li>2、在 First.vue 和 Second.vue 中引入</li>
</ul>
<p>分三步：</p>
<p>第一步：引入组件</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-cacf13a6c5861126.png" alt="img"></p>
<p>import-head-component</p>
<p>第二步：注册组件</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-c028dd666054088b.png" alt="img"></p>
<p>register-head-component</p>
<p>第三步：使用组件</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1586207-58b4eff3ee30fc40.png" alt="img"></p>
<p>use-head-component</p>
<p>想在那个 vue 组件中使用以上三步就可以搞定了</p>
<p>到这里我们就把 head 组件封装完成了，并且达到使用的上的，具体可以看源代码</p>
<p>到此为止，我们把 vue-router 就介绍完了，总结一下</p>
<h3 id="三、总结"><a href="#三、总结" class="headerlink" title="三、总结"></a>三、总结</h3><ul>
<li>路由的分类：前端路由和后端路由「区别和联系」</li>
<li>使用 hash 和 history 分别实现前端路由</li>
<li>vue-router 的基本使用方法「使用 html 引入和模块化开发两种方式」</li>
<li>vue-router 的举例子「手机端开发 webapp」</li>
</ul>

            </div>
            <hr/>

            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            <div class="reprint">
                <p>
                    <span class="reprint-tip">
                        <i class="fa fa-exclamation-circle"></i>&nbsp;&nbsp;转载请注明:
                    </span>
                    <a href="https://www.wxlong.tech" class="b-link-green">Weslyxl</a>
                    <i class="fa fa-angle-right fa-lg fa-fw text-color"></i>
                    <a href="/2018/12/01/2019/12/Vue路由/" class="b-link-green">Vue路由</a>
                </p>
            </div>
        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2018/12/08/2019/12/Vue组件/">
                    <div class="card-image">
                        
                        <img src="http://ww1.sinaimg.cn/large/e5e20b30ly1g9n35tt3ktj20e90bqglt.jpg" class="responsive-img" alt="Vue组件">
                        
                        <span class="card-title">Vue组件</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary">组件基础前言什么是组件组件： 组件的出现，就是为了拆分Vue实例的代码量的，能够让我们以不同的组件，来划分不同的功能模块，将来我们需要什么样的功能，就可以去调用对应的组件即可。
模块化和组件化的区别
模块化：是从代码逻辑的角度进行划分的；方</div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2018-12-08
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/前端/" class="post-category" target="_blank">
                                    前端
                                </a>
                            
                            <a href="/categories/前端/总结/" class="post-category" target="_blank">
                                    总结
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/复习/" target="_blank">
                        <span class="chip bg-color">复习</span>
                    </a>
                    
                    <a href="/tags/Vue/" target="_blank">
                        <span class="chip bg-color">Vue</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2018/12/01/2019/12/Vue基础/">
                    <div class="card-image">
                        
                        <img src="http://ww1.sinaimg.cn/large/e5e20b30ly1g9n35tt3ktj20e90bqglt.jpg" class="responsive-img" alt="Vue基础">
                        
                        <span class="card-title">Vue基础</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary">写在前面知识是学无止境的，比学习知识更为重要的是运用知识。但是运用知识的前提是你知道这一块知识的大体内容，后面才能更好地查找。
Vue的基本介绍MVVM模式

Model：负责数据存储
View：负责页面展示
View Model：负责业务</div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2018-12-01
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/前端/" class="post-category" target="_blank">
                                    前端
                                </a>
                            
                            <a href="/categories/前端/总结/" class="post-category" target="_blank">
                                    总结
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/复习/" target="_blank">
                        <span class="chip bg-color">复习</span>
                    </a>
                    
                    <a href="/tags/Vue/" target="_blank">
                        <span class="chip bg-color">Vue</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('40')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: Weslyxl<br />'
            + '作者: weslyxl<br />'
            + '链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者wesly所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>

    </div>
    <div class="col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });
    });
</script>
    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>

<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
             Copyright  ©️2019  Wesly
            <!-- 本站由&copy;<a href="https://blinkfox.github.io/" target="_blank">Blinkfox</a>基于
            <a href="https://hexo.io/" target="_blank">Hexo</a> 的
            <a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">hexo-theme-matery</a>主题搭建.

            
                &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
                <span class="white-color">489.9k</span>
            

            
			 -->
        </div>
        <div class="col s12 m4 l4 social-link ">


    <a href="mailto:weslywxl@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>




</div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input" autofocus="">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
</script>
<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


<script src="/libs/materialize/js/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics --><!-- hexo-inject:begin --><!-- hexo-inject:end -->





</body>
</html>